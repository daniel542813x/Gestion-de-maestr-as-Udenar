<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Gestion Estudiantes</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link href="../style.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.css">
  </head>
  <body> 
    <div class="card-header">
      <a href="../index.html">
        <img src="https://www.udenar.edu.co/recursos/wp-content/uploads/2017/11/banner.png" alt="Fondo">
      </a>
      <div class="imagen-overlay">
        <img src="https://www.udenar.edu.co/recursos/wp-content/uploads/2021/09/logo-udenar-blanco.png" alt="Escudo">
      </div>
    </div>
    <h4 class="text-inicio">&nbsp;&nbsp;&nbsp;&nbsp;Visualizar Estudiantes</h4>
    <div class="container">
      <a href="students.html" id="backButton">
        <img src="https://i.ibb.co/hXrNHXB/angulo-izquierdo.png" alt="retroceder" >
      </a>
      <h1 class="titulos">Estudiantes</h1>
      <br>
    </div>
    <div class="container tabla-container">
      <div class="row text-center">
        <table id="tablastudentses" class="table table-primary table-striped" border="1" data-page-length="5">
          <thead>
            <tr>
              <th>ID</th>
              <th>Nombre</th>
              <th>Identificación</th>
              <th>Teléfono</th>
              <th>Correo</th>
              <th>Genero</th>
              <th>Fecha de nacimiento</th>
              <th>Semestre</th>
              <th>Egreso</th>
              <th>Cohorte</th>
              <th>Opciones</th>
            </tr>
          </thead>
          <tbody id="studentsTableBody">
          </tbody>
        </table>
      </div>
      <hr>
      <div>
        <a href="students_form.html" class="btn btn-success">Agregar Estudiantes</a>
        <a id="generateCsvBtn" class="btn border">Descargar reporte</a>
      </div>
    </div>
    <br>
    <div class="footer">
      <p>&copy; 2023 Universidad de Nariño | Todos los derechos reservados 
        <br>
        San Juan de Pasto - Nariño - Colombia
      </p>
    </div> 
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script type="module" src="datos_estudiante.js"></script>
<script>

  function updateUsuario(students_data) {
    //navigate to stdents_form.html and pass the data to the form.
    let url = new URL("students_form.html", window.location.href);
    url.searchParams.append("id", students_data.codigoEstudiante);
    url.searchParams.append("nombre", students_data.nombre);
    url.searchParams.append("identificacion", students_data.identificacion);
    url.searchParams.append("direccion", students_data.direccion);
    url.searchParams.append("telefono", students_data.telefono);
    url.searchParams.append("correo", students_data.correo);
    url.searchParams.append("genero", students_data.genero);
    url.searchParams.append("fechaNacimiento", students_data.fechaNac.toString().split("T")[0]);
    url.searchParams.append("semestre", students_data.semestre);
    url.searchParams.append("estado", students_data.estadoCivil);
    url.searchParams.append("fechaIngreso", students_data.fechaIngreso.toString().split("T")[0]);
    url.searchParams.append("fechaEgreso", students_data.fechaEgreso.toString().split("T")[0]);
    url.searchParams.append("cohorte", students_data.idCohorte);
  
    window.location.href = url.href;
}


</script>

  </body>
</html>